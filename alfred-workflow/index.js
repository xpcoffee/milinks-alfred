var L=Object.create;var u=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var N=(t,r)=>{for(var i in r)u(t,i,{get:r[i],enumerable:!0})},l=(t,r,i,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of m(r))!k.call(t,e)&&e!==i&&u(t,e,{get:()=>r[e],enumerable:!(n=f(r,e))||n.enumerable});return t};var g=(t,r,i)=>(i=t!=null?L(h(t)):{},l(r||!t||!t.__esModule?u(i,"default",{value:t,enumerable:!0}):i,t)),F=t=>l(u({},"__esModule",{value:!0}),t);var I={};N(I,{script:()=>d});module.exports=F(I);var p=g(require("fuzzy-search")),a=require("fs");function d(){let t=process.env.MILINKS_FILE_PATH,[r,i,n]=process.argv,e=S(t),o=W(e),c=G(o,n),s=y(c);console.log(JSON.stringify(s))}function G(t,r){return new p.default(t,["description","title","url","groupName"]).search(r)}function S(t){t||(console.error("No MiLinks file path."),process.exit(1));try{let r=(0,a.readFileSync)(t,"utf-8");return JSON.parse(r)}catch{console.error("Unable to parse link file into JSON: "),process.exit(1)}}function W(t){let r=[];function i(n,e,o){if("items"in e){console.error({groupName:o});let c=[o,e.name].filter(s=>s!==void 0&&(s==null?void 0:s.length)).join("/");e.items.forEach(s=>i(n,s,c))}else n.push({...e,groupName:o})}return i(r,t),r}function y(t){function r(i){let n=[i.groupName,i.description,i.url].filter(e=>e!==void 0&&(e==null?void 0:e.length)).join(" | ");return{uid:i.title,title:i.title,subtitle:n,arg:i.url,variables:{url:i.url}}}return{items:t.map(r)}}0&&(module.exports={script});
